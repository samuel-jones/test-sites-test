<!DOCTYPE html>
<html>
   <head>
      <title>COVID-19 Testing in Tower Hamlets</title>
      <meta charset="UTF-8">
      <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
   </head>
   <body>
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title></title>
    <meta name="robots" content="noindex, nofollow" />
    <meta
      name="viewport"
      content="initial-scale=1,maximum-scale=1,user-scalable=no"
    />
    <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js"></script>
    <link
      href="https://api.tiles.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css"
      rel="stylesheet"
    />
    <style>






	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }





.geocoder {
position: absolute;
z-index: 1;
width:58%;
left: 50%;
margin-left: -15%;
top: 10px;
}
.mapboxgl-ctrl-geocoder {
min-width: 100%;
}


#map {
margin-top: 75px;
}

    </style>
  </head>
  <body>

  	<!-- Load the `mapbox-gl-geocoder` plugin. -->
<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.min.js"></script>
<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.7.0/mapbox-gl-geocoder.css" type="text/css">
 
<!-- Promise polyfill script is required -->
<!-- to use Mapbox GL Geocoder in IE 11. -->
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>


<style>
#menu {
background: #fff;
position: absolute;
z-index: 1;
top: 80px;
right: 10px;
border-radius: 3px;
width: 190px;
border: 1px solid rgba(0, 0, 0, 0.4);
font-family: 'Open Sans', sans-serif;
}
 
#menu a {
font-size: 13px;
color: #404040;
display: block;
margin: 0;
padding: 0;
padding: 10px;
text-decoration: none;
border-bottom: 1px solid rgba(0, 0, 0, 0.25);
text-align: center;
}
 
#menu a:last-child {
border: none;
}
 
#menu a:hover {
background-color: #f8f8f8;
color: #404040;
}
 
#menu a.active {
background-color: #3887be;
color: #ffffff;
}
 

#menu a.inactive {
background-color: #ffffff;
color: #ffffff;
}

#menu a.active:hover {
background: #3074a4;
}

      #console {
        position: absolute;
        width: 290px;
        margin: 10px;
        padding: 10px 20px;
        background-color: white;
      }

      .session {
        margin-bottom: 20px;
        margin-top: 20px;
      }

      .row {
        height: 12px;
        width: 100%;
      }



      p{
        font-size: 12px;
         }

               h5{
        font-size: 15px;
        font-weight: bold;
         }


     


</style>
 
<nav id="menu"></nav>

    <div id="map"></div>
    <div id="geocoder" class="geocoder"></div>



 




    <script>


     mapboxgl.accessToken = 'pk.eyJ1Ijoic2Ftd2lzZSIsImEiOiJja2h0Y2NtdDExeXY4MnZrNmdvZml0anloIn0.mot7XC5HP2vbUTVRxYu7QA';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/samwise/ckci8k1br2tia1io593jg0y0h',
       center: [-0.03, 51.5140128],
        zoom: 12,
        maxZoom: 16,
        minZoom: 12
});
 




map.on('style.load', function (e) {
    map.addSource('sites', {
        "type": "geojson",
        "data": ///copy and paste geojson here:  
  {
  "type" : "FeatureCollection",
  "name" : "GeoJSON",
  "features" : [
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0133405628, 51.5063268388 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Billingsgate",
        "Services" : "Symptomatic and asymptomatic on-site testing",
        "Site_ID" : "XQN",
        "Type" : "LTS"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.01025152, 51.5001681792 ]
      },
      "properties" : {
        "Address" : "2 Lawn House Cl, London, E14 9YO",
        "Label" : "2",
        "Locality" : "South East",
        "Name" : "Jack Dash House",
        "Services" : "Symptomatic and asymptomatic on-site testing",
        "Site_ID" : "JDH",
        "Type" : "LTS"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0388473292, 51.5297865615 ]
      },
      "properties" : {
        "Address" : "off Haverfield Rd, Grove Rd, Bow, London E3 5TW",
        "Label" : "3",
        "Locality" : "North East",
        "Name" : "The Ecology Pavilion",
        "Services" : "Symptomatic and asymptomatic on-site testing",
        "Site_ID" : "TEP",
        "Type" : "LTS"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0569334723, 51.51427299686 ]
      },
      "properties" : {
        "Address" : "260 Commercial Rd, London E1 2FB",
        "Label" : "4",
        "Locality" : "South West",
        "Name" : "IDEA Store Watney Market",
        "Services" : "Symptomatic and asymptomatic on-site testing (includes collection)",
        "Site_ID" : "WMI",
        "Type" : "LTS"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.014461547578252368, 51.51127231264763]
      },
      "properties" : {
        "Address" : "Market Square, London E14 6AQ",
        "Label" : "5",
        "Locality" : "South East",
        "Name" : "Chrisp Street Market/East India Square",
        "Services" : "Asymptomatic on-site testing and collection point",
        "Site_ID" : "XQN",
        "Type" : "MTU"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0130702302, 51.4953727599 ]
      },
      "properties" : {
        "Address" : "145 East Ferry Road, London, E14 3BQ",
        "Label" : "6",
        "Locality" : "South East",
        "Name" : "Island Health Centre",
        "Services" : "Asymptomatic on-site testing and collection point",
        "Site_ID" : "XQN",
        "Type" : "MTU"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0396720773, 51.5125687475 ]
      },
      "properties" : {
        "Address" : "Branch Rd, London E14 7JZ",
        "Label" : "7",
        "Locality" : "South West",
        "Name" : "Limehouse DLR",
        "Services" : "Asymptomatic on-site testing and collection point",
        "Site_ID" : "XQN",
        "Type" : "MTU"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0613386, 51.5258634156 ]
      },
      "properties" : {
        "Address" : "Vallance Rd, London E2 6HD",
        "Label" : "8",
        "Locality" : "North West",
        "Name" : "Weavers Field",
        "Services" : "Asymptomatic on-site testing and collection point",
        "Site_ID" : "WQM",
        "Type" : "MTU"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0093079603, 51.5274188378 ]
      },
      "properties" : {
        "Address" : "Hancock Rd, Bow, London E3 3DA",
        "Label" : "9",
        "Locality" : "North East",
        "Name" : "Tesco Hancock Rd",
        "Services" : "Asymptomatic on-site testing and collection point",
        "Site_ID" : "XQN",
        "Type" : "MTU"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0452127515, 51.5218803599 ]
      },
      "properties" : {
        "Address" : "Corner of Mile End Road and White Horse Lane",
        "Label" : "10",
        "Locality" : "South West",
        "Name" : "Whitehorse Lane",
        "Services" : "Asymptomatic on-site testing and collection point",
        "Site_ID" : "XQN",
        "Type" : "MTU"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [  -0.005990574548151303, 51.514029733957244,]
      },
      "properties" : {
        "Address" : "Aberfeldy St, Aberfeldy Village, London E14 0NU",
        "Label" : "11",
        "Locality" : "South East",
        "Name" : "Aberfeldy Community Centre",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0503891111, 51.5211751305 ]
      },
      "properties" : {
        "Address" : "Anchor Retail Park, 123 Mile End Rd, Stepney Green, London E1 4UJ",
        "Label" : "12",
        "Locality" : "North West",
        "Name" : "Anchour Retail Park",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0422088802, 51.5252169037 ]
      },
      "properties" : {
        "Address" : "via A104, Bancroft Rd, London E1 4DG",
        "Label" : "13",
        "Locality" : "North East",
        "Name" : "Mile End Hospital",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0556900553, 51.5256605395 ]
      },
      "properties" : {
        "Address" : "Directly in front of the library, Cambridge Heath Road, E1 6FG",
        "Label" : "14",
        "Locality" : "North West",
        "Name" : "Bethnal Green Gardens",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0117772246, 51.5137645716 ]
      },
      "properties" : {
        "Address" : "Burcham St, London E14 0SL",
        "Label" : "15",
        "Locality" : "South East",
        "Name" : "Burcham Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "BRUE",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.02983650968049209, 51.532565711569355  ]
      },
      "properties" : {
        "Address" : "Gladstone Pl, Bow, London E3 5EU",
        "Label" : "16",
        "Locality" : "North East",
        "Name" : "Idea Store Bow",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0576314465, 51.5200184035 ]
      },
      "properties" : {
        "Address" : "321 Whitechapel Rd, London E1 1BU",
        "Label" : "17",
        "Locality" : "North West",
        "Name" : "Idea Store Whitechapel",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0185831506, 51.5031601695 ]
      },
      "properties" : {
        "Address" : "Jubilee Place, London E14 5NY",
        "Label" : "18",
        "Locality" : "South East",
        "Name" : "Jubilee Place (Canary Wharf)",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "JPMR",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0270114684, 51.5180955838 ]
      },
      "properties" : {
        "Address" : "83 St Paul's Way, London E3 4AJ",
        "Label" : "19",
        "Locality" : "North East",
        "Name" : "St Pauls Way Community Centre",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "XQN",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.049751823, 51.5273154476 ]
      },
      "properties" : {
        "Address" : "Digby St, Globe Town, London E2 0LS",
        "Label" : "20",
        "Locality" : "North West",
        "Name" : "Tramshed",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "AKTT",
        "Type" : "Collection"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0609394605, 51.519173912 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "A R Parmar Ltd - 253 Whitechapel Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "807e9d1465aedcfc3d8a690c8bb6606f",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.031611528398490095, 51.53235594758204 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Abc Drug Stores Limited - 520 Roman Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "fc61c9a02c617458a1c9b237779f0709",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0108987831, 51.4982097284 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Bhamra Ps - 19 Castalia Square",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "8d028e27cf39cfb6ad5e8040154178df",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.01872443009957266, 51.503068914447475]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Boots Uk Limited - 15 Jubilee Place",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "24d4208b921c3d14673d163a2ce981bd",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0145467173, 51.5117251094 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Boots Uk Limited - 18-20 The Vesey Path",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "de5c3dd62f79e9b33cd73661c8cfb4d5",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0493351512, 51.5134599227 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Boots Uk Limited - 382 Commercial Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "c8e524f0d9282dfe8c05e58ead6aaf0c",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0597367196, 51.5267797376 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Boots Uk Limited - 426/428 Bethnal Green Rd",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "4ef9da9fe6b9c722f6c3f56412edefaa",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0209308094, 51.5050882918 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Boots Uk Limited - Ground Floor",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "47e84735de88869c751c214806208958",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0195683322, 51.5049393792 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Boots Uk Limited - Unit 14",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "26bc972e4b6fb5acc702be24705c1635",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0564557545, 51.5313744914 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Borno Chemists Limited - 204 Cambridge Heath Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "1024cbce3f6bf52f3d339aa3caf0431d",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0445177775, 51.5209425424 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Bright Bridge Ltd - 100 Whitehorse Lane",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "ab2edfb440b74f24a706edd732b09c5f",
        "Type" : "Pharmacy"
      }
    },
   
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0326388429, 51.5253122603 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Chrischem Ltd - 578 Mile End Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "e62b497a92f6c848fde30c2ee7363ce7",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0211170585, 51.4911523903 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Copes Pharmacy Limited - 100 Spindrift Avenue",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "934f821a776b7daf612ed72a9df7cc6b",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.061762989, 51.5133602815 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Cordeve Limited - 139 Cannon Street Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "ff88101cf68866e06a62aeb2b7e01cbb",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0625086715, 51.5141279936 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Cordeve Limited - 56 Hessel Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "3b529de5b54b45b9e38c5eec2a041b3d",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0563775993, 51.511553518 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Datepalm Limited - 93 Watney Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "35f6d950a95d12d7b3ef917f7ce47a31",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0585299055, 51.5053392564 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "David Barbanel Limited - 50 Wapping Lane",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "46c4fbf74854712edfdb10e40c00886b",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0692426463, 51.5174584845 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Day Lewis Plc - 12-14 Old Montague Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "28506b65dce2fef9ef4a5dd7c6a06118",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0636195912, 51.5185167904 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Day Lewis Plc - 195 Whitechapel Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "4701a5ba0baaa55707ae3a99770db1fb",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0617927734, 51.5265709658 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Florida Pharmacy Limited - 360 Bethnal Green Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "d38029b4f436d94ae8eb9443881ca65b",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0651093436, 51.5265538363 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Florida Pharmacy Ltd - 307 Bethnal Green Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "79854e6571ca4745b48badf0e4421764",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0302358839, 51.5258744707 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Forward Pharmacy Limited - 648 Mile End Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "cdb24bdf1a4fd88a874dd9409dcaa5a3",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0142741197, 51.5239508475 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Greenlight Healthcare Limited - St Andrew'S Health Centre",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "2353fe6d46f0c5c5c720fb2f80f10b19",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0291584524, 51.5124391934 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Guardian Pharmacy Limited - 817 Commercial Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "565bf4754c871d4af151cb464dd20443",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0147431848, 51.5141655501 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Guardian Pharmacy Limited - 85 Chrisp Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "dc7526281794aa69000fbdb07eb0c6a8",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0080716154, 51.4887102308 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Ho Kkl - 143 Manchester Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "88ce24e5bb7e39c201318694784b0ad2",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0099702645, 51.5089316103 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Laville Limited - 259 Poplar High Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "cf7d3107a3ea718bc3b1842ac5c6ab1c",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0057398121, 51.5134012506 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Laville Limited - 35 Aberfeldy Street",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "b8104dc7a268d97a3f93a56f832e2ce4",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0256983246, 51.5008071159 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Laville Limited - Barkantine Primary Cc",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "198843a4a4ec4874c935b2a3f36d0a3a",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0580610245, 51.5207629156 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Lloyds Pharmacy Ltd - J Sainsburys Store",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "aab88ff54b7dbdcfd7285a1b66886a4f",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0397806996, 51.5177970136 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Lyngold Ltd - 50 Ben Jonson Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "d9b9033dddd2a8d702f29c1b4ec88fdd",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0298651004, 51.5331253059 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Lyngold Ltd - 559 Roman Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "9c6a74b57214d6f87387e886690d82cc",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0586563625, 51.5325170494 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Medina Pharma Limited - 517 Hackney Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "9c5dd3ae263db2e77408e9f6332b7f0c",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0706367465, 51.5284614693 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Medinapharm Limited - 104 Columbia Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "ad4d8fd8294a658cf74485cb691d681c",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0651093436, 51.5265538363 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Meraj Limited - 321 Bethnal Green Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "fc41fb09befca7f63636598b9f860bb8",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.024604132, 51.518100048 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Mildcare Ltd - 124 St Pauls Way",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "db37389ce132f0026c7aaf80d86a1b9f",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0275801119, 51.533950239 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Miraj Pharma Limited - 625-627 Roman Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "df17a66b6973429a81f51ab3168a0def",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0337579628, 51.5137304145 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Mymeds Healthcare Ltd - 138 Salmon Lane",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "205a8cc644ea26b016779e58d447ac22",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0569334723, 51.5135299686 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Pahwa R - 4 Watney Market",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "073e60db6e9c8529e2af1a22f43cc036",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0503769299, 51.5143765108 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South West",
        "Name" : "Patel Pb - 4 Brayford Square",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "0e2f8dc9b99bdff9a52f5cfcbf0ed1b1",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0135922372, 51.4942535676 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "South East",
        "Name" : "Perimart Limited - Unit 9 Asda Precinct",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "17dbdc88b10d0d7c7b60cbc57b1c7715",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0266076198, 51.5270994827 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Pianov T - 51-53 Bow Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "acaf3f6b0995aa5432e9ffc2f3ccf6c0",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0461259747, 51.5295032784 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North West",
        "Name" : "Sonrak Ltd - 197 Roman Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "5a6acaa1d39a7cd9f8bf2cb0cea9cb26",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0105551196, 51.5272511419 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Tesco Stores Limited - Tesco Instore Pharmacy - Hancock Road",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "d14a42e90d969cd2c473e1a55d085781",
        "Type" : "Pharmacy"
      }
    },
    {
      "type" : "Feature",
      "geometry" : {
        "type" : "Point",
        "coordinates" : [ -0.0177383428, 51.5274986042 ]
      },
      "properties" : {
        "Address" : "Trafalgar Way,  E14 5ST",
        "Label" : "1",
        "Locality" : "North East",
        "Name" : "Waremoss Limited - 18 Stroudley Walk",
        "Services" : "Collection point (if asymptomatic)",
        "Site_ID" : "1afeed52056d4638ff4c78c22aacca12",
        "Type" : "Pharmacy"
      }
    }
  ]
}/// to here 

    });



  map.addLayer({
        "id": "Symptomatic-and-asymptomatic-testing",
        "source": "sites",
        "type": "circle",
        "paint": {
             'circle-radius': {
            'base': 1.75,
            'stops': [
            [12, 12],
            [22, 180]
            ]},
        "circle-color": "#FDAE61",
        "circle-opacity": 0.9,
        "circle-stroke-width": 0.4,
        "circle-stroke-opacity": 0.5,
             },
               'layout': {
'visibility': 'visible'
},
        "filter": ["==", "Type", 'LTS'],
    });


    map.addLayer({
        "id": "Asymptomatic-testing-and-collections",
        "source": "sites",
        "type": "circle",
        "paint": {
             'circle-radius': {
            'base': 1.75,
            'stops': [
            [12, 12],
            [22, 180]
            ]},    
            "circle-color": "#15D7E7",
            "circle-opacity": 0.9,
            "circle-stroke-width": 0.4,
            "circle-stroke-opacity": 0.5,
        },      
	    'layout': {
'visibility': 'visible'
},
        "filter": ["==", "Type", 'MTU'],
    });


   map.addLayer({
        "id": "Collection-points",
        "source": "sites",
        "type": "circle",
        "paint": {
            'circle-radius': {
            'base': 1.75,
            'stops': [
            [12, 12],
            [22, 180]
            ]},
            "circle-color": "#9341d5",
            "circle-opacity": 0.9,
            "circle-stroke-width": 0.4,
            "circle-stroke-opacity": 0.5,
        },
              'layout': {
'visibility': 'visible'
},
        "filter": ["==", "Type", 'Collection'],
    });


map.loadImage('https://samuel-jones.github.io/hex_heat_test/pharmacy1.png', (error, image) => {
    if (error) throw error;
    map.addImage('Pharmacy', image);

    
    map.addLayer({
        "id": "Pharmacy-collection-points",
        "type": "symbol",
        "source": "sites",
        "layout": {
            "icon-image": "Pharmacy",
            "icon-size": ['interpolate', ['linear'], ['zoom'], 8, 0.3, 15, 0.25],
            // make layer visible by default
'visibility': 'visible',

        },"filter": ["==", "Type", 'Pharmacy'],
     
    });

});

// map.moveLayer('Pharmacy-collection-points', 'Asymptomatic-testing-and-collections-label');
// map.moveLayer('Pharmacy-collection-points', 'Symptomatic-and-asymptomatic-testing');
// map.moveLayer('Pharmacy-collection-points', 'Collection-points');

// add LBTH Boundary layer
map.addSource('LBTH', {
'type': 'geojson',
'data': 

{
	"type" : "FeatureCollection",
	"name" : "GeoJSON",
	"features" : [
		{
			"type" : "Feature",
			"geometry" : {
				"type" : "MultiPolygon",
				"coordinates" : [
					[
						[
							[ -0.0794052867, 51.5078126496 ],
							[ -0.0793854392, 51.5078459661 ],
							[ -0.0794360885, 51.5077940089 ],
							[ -0.0794052867, 51.5078126496 ]
						]
					],
					[
						[
							[ -0.0291596774, 51.5424821811 ],
							[ -0.0297218682, 51.5430973458 ],
							[ -0.0333749356, 51.5446065393 ],
							[ -0.0377360803, 51.5417952263 ],
							[ -0.0371419978, 51.5414202494 ],
							[ -0.0414330733, 51.5374155466 ],
							[ -0.044761616, 51.5358336691 ],
							[ -0.0475485546, 51.5355306026 ],
							[ -0.049598808, 51.5363324239 ],
							[ -0.0509317532, 51.5364584053 ],
							[ -0.0523671747, 51.5359154275 ],
							[ -0.0528137924, 51.534889537 ],
							[ -0.0552216267, 51.5350845102 ],
							[ -0.0590364531, 51.5340887441 ],
							[ -0.0603445084, 51.5342905336 ],
							[ -0.0624436221, 51.5355174703 ],
							[ -0.0628117029, 51.53463667 ],
							[ -0.0622114844, 51.533248491 ],
							[ -0.064953929, 51.5329017841 ],
							[ -0.065114386, 51.5332180297 ],
							[ -0.0662863402, 51.5312282059 ],
							[ -0.0722392112, 51.5308410894 ],
							[ -0.0743467205, 51.5300141457 ],
							[ -0.0756108616, 51.5284363419 ],
							[ -0.0772266348, 51.5272984535 ],
							[ -0.0762905676, 51.5271475079 ],
							[ -0.0764165262, 51.5242887948 ],
							[ -0.0758889491, 51.5243218684 ],
							[ -0.0756928187, 51.5235888377 ],
							[ -0.0761624118, 51.5221530873 ],
							[ -0.0782111215, 51.5218550983 ],
							[ -0.0794036204, 51.5188460736 ],
							[ -0.0780570171, 51.5189688678 ],
							[ -0.0781203805, 51.5184699674 ],
							[ -0.0767931886, 51.5165934503 ],
							[ -0.0736379203, 51.5141323635 ],
							[ -0.0727017586, 51.5101891923 ],
							[ -0.0755058626, 51.5097365961 ],
							[ -0.0761465286, 51.5104783487 ],
							[ -0.076885425, 51.5104691105 ],
							[ -0.0768248784, 51.5101551977 ],
							[ -0.077875588, 51.5099944084 ],
							[ -0.0788188058, 51.5094125626 ],
							[ -0.0790758815, 51.5090397848 ],
							[ -0.0786431395, 51.5087927018 ],
							[ -0.0792469714, 51.507831909 ],
							[ -0.0726278529, 51.5059028312 ],
							[ -0.0713764331, 51.5060198313 ],
							[ -0.0712576636, 51.5056248948 ],
							[ -0.0699914287, 51.5050698804 ],
							[ -0.0684319185, 51.5045675725 ],
							[ -0.0679499237, 51.5049589057 ],
							[ -0.0679802795, 51.5044459221 ],
							[ -0.0668618606, 51.504145115 ],
							[ -0.0626075844, 51.5030722032 ],
							[ -0.0598566237, 51.5028405626 ],
							[ -0.0584678222, 51.5029704481 ],
							[ -0.0564117169, 51.5036791783 ],
							[ -0.053983651, 51.505472514 ],
							[ -0.0493722438, 51.5076017982 ],
							[ -0.049649213, 51.5080335588 ],
							[ -0.0490933328, 51.5079910302 ],
							[ -0.045018847, 51.5094843216 ],
							[ -0.0415731524, 51.5097856413 ],
							[ -0.0415375129, 51.5100116635 ],
							[ -0.0363789205, 51.5092248651 ],
							[ -0.036100258, 51.5094045511 ],
							[ -0.0359031242, 51.5091296672 ],
							[ -0.0331318995, 51.5085940098 ],
							[ -0.0326362756, 51.5082232845 ],
							[ -0.0315712245, 51.5081919206 ],
							[ -0.0298863987, 51.5088641685 ],
							[ -0.0315282673, 51.5078179965 ],
							[ -0.030387637, 51.5072340901 ],
							[ -0.0299966476, 51.5074451485 ],
							[ -0.0290528107, 51.5064760415 ],
							[ -0.0279879482, 51.5067081371 ],
							[ -0.0288445744, 51.506292692 ],
							[ -0.0281169622, 51.5055897931 ],
							[ -0.0277398555, 51.5056463996 ],
							[ -0.0280636206, 51.5053568793 ],
							[ -0.027194681, 51.5036569891 ],
							[ -0.0257693582, 51.5031959341 ],
							[ -0.0269703642, 51.5031127306 ],
							[ -0.0273681509, 51.5021769791 ],
							[ -0.0278585371, 51.4948946882 ],
							[ -0.0276841236, 51.4942631485 ],
							[ -0.0255425584, 51.4941146694 ],
							[ -0.0254885299, 51.4939312029 ],
							[ -0.0273985307, 51.4937709254 ],
							[ -0.0256726385, 51.4906060333 ],
							[ -0.0226962539, 51.4881502456 ],
							[ -0.0191081716, 51.4867200238 ],
							[ -0.0153270975, 51.4860256775 ],
							[ -0.0110369438, 51.4861760117 ],
							[ -0.008193552, 51.4866412422 ],
							[ -0.0053715236, 51.4876382457 ],
							[ -0.0046425195, 51.4881033646 ],
							[ -0.0052986541, 51.4884490627 ],
							[ -0.0044196127, 51.4882929181 ],
							[ -0.0031768969, 51.4899642209 ],
							[ -0.0032440669, 51.4921506318 ],
							[ -0.0047457761, 51.4945413076 ],
							[ -0.0053685161, 51.4946643139 ],
							[ -0.0061894854, 51.4956252231 ],
							[ -0.0056305016, 51.4958558241 ],
							[ -0.0072663729, 51.4982820306 ],
							[ -0.0077744485, 51.5008023728 ],
							[ -0.0089573799, 51.5012316564 ],
							[ -0.0076550938, 51.501490111 ],
							[ -0.0066800444, 51.5038557922 ],
							[ -0.0054933084, 51.504831136 ],
							[ -0.0057222642, 51.5050985278 ],
							[ -0.0053316048, 51.505036124 ],
							[ -0.0027675247, 51.5070248946 ],
							[ -0.001716003, 51.5074422382 ],
							[ 0.003086684, 51.5082226943 ],
							[ 0.0034565803, 51.5079825539 ],
							[ 0.0037272263, 51.508370023 ],
							[ 0.005861168, 51.5081995277 ],
							[ 0.0087054993, 51.5073081755 ],
							[ 0.0092121781, 51.5084730747 ],
							[ 0.008758017, 51.5089592872 ],
							[ 0.0064077804, 51.5093565713 ],
							[ 0.0056266249, 51.5099122274 ],
							[ 0.0073844182, 51.512655613 ],
							[ 0.0068374151, 51.5138170008 ],
							[ 0.0061932947, 51.5139179612 ],
							[ 0.0056055324, 51.5135961757 ],
							[ 0.0044227088, 51.5106207989 ],
							[ 0.0036288757, 51.5103636794 ],
							[ 0.0022009728, 51.5105013959 ],
							[ 0.0014238045, 51.5111163126 ],
							[ 0.0017583558, 51.5111537659 ],
							[ 0.002674936, 51.513386394 ],
							[ 0.0034722321, 51.5140823246 ],
							[ 0.0032989433, 51.5151248945 ],
							[ -0.0026500083, 51.5177741767 ],
							[ -0.0034086048, 51.5175667662 ],
							[ -0.0042880443, 51.5164090391 ],
							[ -0.005722534, 51.51630214 ],
							[ -0.0066386218, 51.5182296197 ],
							[ -0.0090912617, 51.519730811 ],
							[ -0.0092893301, 51.521798927 ],
							[ -0.008558436, 51.521800012 ],
							[ -0.0083123196, 51.5227823484 ],
							[ -0.0078350822, 51.5228830593 ],
							[ -0.0080943573, 51.523741979 ],
							[ -0.0074583067, 51.5262377797 ],
							[ -0.0086900878, 51.5276605728 ],
							[ -0.0102349619, 51.528497382 ],
							[ -0.0107853829, 51.5293892674 ],
							[ -0.0136194651, 51.529841246 ],
							[ -0.0174979563, 51.5315378856 ],
							[ -0.0182061018, 51.5324539006 ],
							[ -0.0180812585, 51.5334191992 ],
							[ -0.0212148634, 51.5369252544 ],
							[ -0.0211205931, 51.5373532119 ],
							[ -0.0194807681, 51.5382350988 ],
							[ -0.018810955, 51.539401136 ],
							[ -0.0178126007, 51.540162018 ],
							[ -0.0175635778, 51.5409769938 ],
							[ -0.0164742904, 51.5414030142 ],
							[ -0.0161050129, 51.5425178838 ],
							[ -0.0164764484, 51.5432807023 ],
							[ -0.0193593184, 51.5435435199 ],
							[ -0.0256067095, 51.5432944973 ],
							[ -0.0280097283, 51.542482391 ],
							[ -0.0290619617, 51.5422864784 ],
							[ -0.0291596774, 51.5424821811 ]
						]
					]
				]
			},
			"properties" : {
				"LAD19CD" : "E09000030",
				"LAD19NM" : "Tower Hamlets"
			}
		}
	]
}
});





map.addLayer({
'id': 'LBTH',
'type': 'line',
'source': 'LBTH',
'layout': {
'line-join': 'round',
'line-cap': 'round',
'visibility': 'visible'
},
'paint': {
'line-color': '#268538',
'line-width': 1
}
});

});



var popup = new mapboxgl.Popup({
closeButton: false,
closeOnClick: false
});
 
map.on('mouseenter',  'Symptomatic-and-asymptomatic-testing', function(e) {
// Change the cursor style as a UI indicator.
map.getCanvas().style.cursor = 'pointer';
 
var coordinates = e.features[0].geometry.coordinates.slice();
var description = '<strong><h5>' + e.features[0].properties.Name + '</h5>'  + e.features[0].properties.Address  + '</strong><p>' + e.features[0].properties.Services  ;
 
// Ensure that if the map is zoomed out such that multiple
// copies of the feature are visible, the popup appears
// over the copy being pointed to.
while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
}
 
// Populate the popup and set its coordinates
// based on the feature found.
popup
.setLngLat(coordinates)
.setHTML(description)
.addTo(map);
});
 
map.on('mouseleave', 'Symptomatic-and-asymptomatic-testing', function() {
map.getCanvas().style.cursor = '';
popup.remove();
});



map.on('mouseenter',  'Asymptomatic-testing-and-collections', function(e) {
// Change the cursor style as a UI indicator.
map.getCanvas().style.cursor = 'pointer';
 
var coordinates = e.features[0].geometry.coordinates.slice();
var description = '<strong><h5>' + e.features[0].properties.Name + '</h5>'  + e.features[0].properties.Address  + '</strong><p>' + e.features[0].properties.Services  ;
 
// Ensure that if the map is zoomed out such that multiple
// copies of the feature are visible, the popup appears
// over the copy being pointed to.
while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
}
 
// Populate the popup and set its coordinates
// based on the feature found.
popup
.setLngLat(coordinates)
.setHTML(description)
.addTo(map);
});
 
map.on('mouseleave', 'Asymptomatic-testing-and-collections', function() {
map.getCanvas().style.cursor = '';
popup.remove();
});



map.on('mouseenter',  'Collection-points', function(e) {
// Change the cursor style as a UI indicator.
map.getCanvas().style.cursor = 'pointer';
 
var coordinates = e.features[0].geometry.coordinates.slice();
var description = '<strong><h5>' + e.features[0].properties.Name + '</h5>'  + e.features[0].properties.Address  + '</strong><p>' + e.features[0].properties.Services  ;
 
// Ensure that if the map is zoomed out such that multiple
// copies of the feature are visible, the popup appears
// over the copy being pointed to.
while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
}
 
// Populate the popup and set its coordinates
// based on the feature found.
popup
.setLngLat(coordinates)
.setHTML(description)
.addTo(map);
});
 
map.on('mouseleave', 'Collection-points', function() {
map.getCanvas().style.cursor = '';
popup.remove();
});


map.on('mouseenter',  'Pharmacy-collection-points', function(e) {
// Change the cursor style as a UI indicator.
map.getCanvas().style.cursor = 'pointer';
 
var coordinates = e.features[0].geometry.coordinates.slice();
var description = '<strong><h5>' + e.features[0].properties.Name + '</h5>' + e.features[0].properties.Type + ': </strong> collections and pick-ups of tests should be available'  ;
 
// Ensure that if the map is zoomed out such that multiple
// copies of the feature are visible, the popup appears
// over the copy being pointed to.
while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
}
 
// Populate the popup and set its coordinates
// based on the feature found.
popup
.setLngLat(coordinates)
.setHTML(description)
.addTo(map);
});
 
map.on('mouseleave', 'Pharmacy-collection-points', function() {
map.getCanvas().style.cursor = '';
popup.remove();
});


// Add the control to the map.
var geocoder = new MapboxGeocoder({
accessToken: mapboxgl.accessToken,
    mapboxgl: mapboxgl, // Set the mapbox-gl instance
    zoom: 18, // Set the zoom level for geocoding results
    placeholder: "Enter your postcode or address", // This placeholder text will display in the search bar
    bbox:[-0.08659969751995711, 51.48149264656475, 0.016424215054772213,51.54914450799168] 
  });



document.getElementById('geocoder').appendChild(geocoder.onAdd(map));


// enumerate ids of the layers
var toggleableLayerIds = ['Symptomatic-and-asymptomatic-testing', 'Asymptomatic-testing-and-collections','Collection-points','Pharmacy-collection-points'];
 
// set up the corresponding toggle button for each layer
for (var i = 0; i < toggleableLayerIds.length; i++) {
var id = toggleableLayerIds[i];
 
var link = document.createElement('a');
link.href = '#';
link.className = 'active';
link.textContent = id;
 
link.onclick = function (e) {
var clickedLayer = this.textContent;
e.preventDefault();
e.stopPropagation();
 
var visibility = map.getLayoutProperty(clickedLayer, 'visibility');
 
// toggle layer visibility by changing the layout object's visibility property
if (visibility === 'visible') {
map.setLayoutProperty(clickedLayer, 'visibility', 'none');
this.className = '';
} else {
this.className = 'active';
map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
}
};
 




var layers = document.getElementById('menu');
layers.appendChild(link);
}




    </script>
  </body>
</html>

   </body>
</html>

